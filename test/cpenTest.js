'use strict';

let mocha = require('mocha');
var expect = require("chai").expect;
let fs = require('fs');
let cpen = require('../src/cpen');

describe('cpen test', () => {

  beforeEach(done => {
    fs.mkdirSync('example');
    done();
  });

  afterEach(done => {
    fs.unlinkSync('example/index.html');
    fs.unlinkSync('example/style.css');
    fs.unlinkSync('example/main.js');
    fs.rmdirSync('example');
    done();
  });

  it('should create files', done => {
    cpen.create(null, {
      html : 'html file',
      css : 'css file',
      js : 'js file'
    });

    expect(fs.statSync('example/index.html').isFile());
    expect(fs.statSync('example/style.css').isFile());
    expect(fs.statSync('example/main.js').isFile());

    done();

  });

})
